var __extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype,n.prototype=new r},Emulator;(function(n){var i=[],t=function(){function n(){}return n.computeBranch=function(n,t){return t>Constants.Memory.BranchBack?n-(Constants.Memory.BranchOffset-t):n+t},n.LoadOpCodesByName=function(n){for(var u=[],r,t=0;t<i.length;t++)r=new i[t],r.opName===n&&u.push(r);return u},n.ToByte=function(n){var t=n.toString(16).toUpperCase();return t.length==1?"0"+t:t},n.ToWord=function(n){var t=n.toString(16).toUpperCase();return t.length===4?t:["000","00","0"][t.length-1]+t},n.ToDecompiledLine=function(n,t,i){return"$"+n+": "+t+" "+i},n.ProcessLine=function(t,i,r){if(i.addressingMode===n.ModeImmediate)return n.ToDecompiledLine(n.ToWord(t),i.opName,"#$"+n.ToByte(r[1]));if(i.addressingMode===n.ModeZeroPage)return n.ToDecompiledLine(n.ToWord(t),i.opName,"$"+n.ToByte(r[1]));if(i.addressingMode===n.ModeZeroPageX)return n.ToDecompiledLine(n.ToWord(t),i.opName,"$"+n.ToByte(r[1])+",X");if(i.addressingMode===n.ModeAbsolute)return n.ToDecompiledLine(n.ToWord(t),i.opName,"$"+n.ToWord(r[1]+(r[2]<<Constants.Memory.BitsInByte)));if(i.addressingMode===n.ModeAbsoluteX)return n.ToDecompiledLine(n.ToWord(t),i.opName,"$"+n.ToWord(r[1]+(r[2]<<Constants.Memory.BitsInByte))+", X");if(i.addressingMode===n.ModeAbsoluteY)return n.ToDecompiledLine(n.ToWord(t),i.opName,"$"+n.ToWord(r[1]+(r[2]<<Constants.Memory.BitsInByte))+", Y");if(i.addressingMode===n.ModeRelative)return n.ToDecompiledLine(n.ToWord(t),i.opName,"$"+n.ToWord(n.computeBranch(t+2,r[1])));if(i.addressingMode===n.ModeSingle)return n.ToDecompiledLine(n.ToWord(t),i.opName,"");if(i.addressingMode===n.ModeIndexedIndirectX)return n.ToDecompiledLine(n.ToWord(t),i.opName,"($"+n.ToByte(r[1])+", X)");if(i.addressingMode===n.ModeIndexedIndirectY)return n.ToDecompiledLine(n.ToWord(t),i.opName,"($"+n.ToByte(r[1])+"), Y");if(i.addressingMode===n.ModeIndirect)return n.ToDecompiledLine(n.ToWord(t),i.opName,"($"+n.ToWord(r[1]+(r[2]<<Constants.Memory.BitsInByte))+")");throw"Unknown addressing mode.";},n.FillOps=function(n){for(var t,u=Constants.Memory.ByteMask+1,f,r;u-=1;)f=new ot(u),n.push(f);for(t=0;t<i.length;t++)r=new i[t],n[r.opCode]=r},n.AddWithCarry=function(n,t){function f(t,i){return t>=i?(n.setFlag(Constants.ProcessorStatus.CarryFlagSet,!0),n.checkFlag(Constants.ProcessorStatus.OverflowFlagSet)&&t>=384&&n.setFlag(Constants.ProcessorStatus.OverflowFlagSet,!1),!0):(n.setFlag(Constants.ProcessorStatus.CarryFlagSet,!1),n.checkFlag(Constants.ProcessorStatus.OverflowFlagSet)&&t<Constants.ProcessorStatus.NegativeFlagSet&&n.setFlag(Constants.ProcessorStatus.OverflowFlagSet,!1),!1)}var i,r=n.checkFlag(Constants.ProcessorStatus.CarryFlagSet)?1:0,u;u=!((n.rA^t)&Constants.ProcessorStatus.NegativeFlagSet),n.setFlag(Constants.ProcessorStatus.OverflowFlagSet,u),n.checkFlag(Constants.ProcessorStatus.DecimalFlagSet)?(i=(n.rA&Constants.Memory.NibbleMask)+(t&Constants.Memory.NibbleMask)+r,i>=10&&(i=16|i+6&Constants.Memory.NibbleMask),i+=(n.rA&Constants.Memory.HighNibbleMask)+(t&Constants.Memory.HighNibbleMask),f(i,160)&&(i+=96)):(i=n.rA+t+r,f(i,256)),n.rA=i&Constants.Memory.ByteMask,n.setFlags(n.rA)},n.SubtractWithCarry=function(n,t){function f(t){return t<256?(n.setFlag(Constants.ProcessorStatus.CarryFlagSet,!1),n.checkFlag(Constants.ProcessorStatus.OverflowFlagSet)&&t<Constants.ProcessorStatus.NegativeFlagSet&&n.setFlag(Constants.ProcessorStatus.OverflowFlagSet,!1),!0):(n.setFlag(Constants.ProcessorStatus.CarryFlagSet,!0),n.checkFlag(Constants.ProcessorStatus.OverflowFlagSet)&&i>=384&&n.setFlag(Constants.ProcessorStatus.OverflowFlagSet,!1),!1)}var r,i,u;u=n.checkFlag(Constants.ProcessorStatus.CarryFlagSet)?1:0,n.setFlag(Constants.ProcessorStatus.OverflowFlagSet,!!((n.rA^t)&Constants.ProcessorStatus.NegativeFlagSet)),n.checkFlag(Constants.ProcessorStatus.DecimalFlagSet)?(r=Constants.Memory.NibbleMask+(n.rA&Constants.Memory.NibbleMask)-(t&Constants.Memory.NibbleMask)+u,r<16?(i=0,r-=6):(i=16,r-=16),i+=Constants.Memory.HighNibbleMask+(n.rA&Constants.Memory.HighNibbleMask)-(t&Constants.Memory.HighNibbleMask),f(i)&&(i-=96),i+=r):(i=Constants.Memory.ByteMask+n.rA-t+u,f(i)),n.rA=i&Constants.Memory.ByteMask,n.setFlags(n.rA)},n.ModeImmediate=1,n.ModeZeroPage=2,n.ModeZeroPageX=3,n.ModeZeroPageY=4,n.ModeAbsolute=5,n.ModeAbsoluteX=6,n.ModeAbsoluteY=7,n.ModeIndirect=8,n.ModeIndexedIndirectX=9,n.ModeIndexedIndirectY=10,n.ModeSingle=11,n.ModeRelative=12,n}(),r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt,dt,gt,ni,ti,ii,ri,ui,fi,ei,oi,si,hi,ci,li,ai,vi,yi,pi,wi,bi,ki;n.OpCodes=t,r=function(){function n(n,t,i,r){this.opName=n,this.sizeBytes=t,this.addressingMode=i,this.opCode=r}return n.prototype.decompile=function(n,i){return t.ProcessLine(n,this,i)},n.prototype.execute=function(){return},n}(),n.BaseOpCode=r,u=function(n){function i(){n.call(this,"ADC",2,t.ModeImmediate,105)}return __extends(i,n),i.prototype.execute=function(n){t.AddWithCarry(n,n.addrPop())},i}(r),n.AddWithCarryImmediate=u,i.push(u),f=function(n){function i(){n.call(this,"ADC",2,t.ModeZeroPage,101)}return __extends(i,n),i.prototype.execute=function(n){var i=n.addrPop();t.AddWithCarry(n,n.peek(i))},i}(r),n.AddWithCarryZeroPage=f,i.push(f),e=function(n){function i(){n.call(this,"ADC",2,t.ModeZeroPageX,117)}return __extends(i,n),i.prototype.execute=function(n){t.AddWithCarry(n,n.peek(n.addrZeroPageX()))},i}(r),n.AddWithCarryZeroPageX=e,i.push(e),o=function(n){function i(){n.call(this,"ADC",3,t.ModeAbsolute,109)}return __extends(i,n),i.prototype.execute=function(n){var i=n.peek(n.addrPopWord());t.AddWithCarry(n,i)},i}(r),n.AddWithCarryAbsolute=o,i.push(o),s=function(n){function i(){n.call(this,"ADC",3,t.ModeAbsoluteX,125)}return __extends(i,n),i.prototype.execute=function(n){var i=n.peek(n.addrAbsoluteX());t.AddWithCarry(n,i)},i}(r),n.AddWithCarryAbsoluteX=s,i.push(s),h=function(n){function i(){n.call(this,"ADC",3,t.ModeAbsoluteY,121)}return __extends(i,n),i.prototype.execute=function(n){var i=n.peek(n.addrAbsoluteY());t.AddWithCarry(n,i)},i}(r),n.AddWithCarryAbsoluteY=h,i.push(h),c=function(n){function i(){n.call(this,"ADC",2,t.ModeIndexedIndirectX,97)}return __extends(i,n),i.prototype.execute=function(n){var i=n.peek(n.addrIndexedIndirectX());t.AddWithCarry(n,i)},i}(r),n.AddWithCarryIndexedIndirectX=c,i.push(c),l=function(n){function i(){n.call(this,"ADC",2,t.ModeIndexedIndirectY,113)}return __extends(i,n),i.prototype.execute=function(n){var i=n.peek(n.addrIndirectIndexedY());t.AddWithCarry(n,i)},i}(r),n.AddWithCarryIndirectIndexedY=l,i.push(l),a=function(n){function i(){n.call(this,"AND",2,t.ModeImmediate,41)}return __extends(i,n),i.prototype.execute=function(n){n.rA=n.rA&n.addrPop(),n.setFlags(n.rA)},i}(r),n.AndImmediate=a,i.push(a),v=function(n){function i(){n.call(this,"BNE",2,t.ModeRelative,208)}return __extends(i,n),i.prototype.execute=function(n){var i=n.addrPop();n.checkFlag(Constants.ProcessorStatus.ZeroFlagSet)||(n.rPC=t.computeBranch(n.rPC,i))},i}(r),n.BranchNotEqualRelative=v,i.push(v),y=function(){function n(){this.opName="BEQ",this.sizeBytes=2,this.addressingMode=t.ModeRelative,this.opCode=240}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"$"+t.ToWord(t.computeBranch(n+2,i[1])))},n.prototype.execute=function(n){var i=n.addrPop();n.checkFlag(Constants.ProcessorStatus.ZeroFlagSet)&&(n.rPC=t.computeBranch(n.rPC,i))},n}(),n.BranchEqualRelative=y,i.push(y),p=function(){function n(){this.opName="BMI",this.sizeBytes=2,this.addressingMode=t.ModeRelative,this.opCode=48}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"$"+t.ToWord(t.computeBranch(n+2,i[1])))},n.prototype.execute=function(n){var i=n.addrPop();n.checkFlag(Constants.ProcessorStatus.NegativeFlagSet)&&(n.rPC=t.computeBranch(n.rPC,i))},n}(),n.BranchMinusRelative=p,i.push(p),w=function(){function n(){this.opName="BPL",this.sizeBytes=2,this.addressingMode=t.ModeRelative,this.opCode=16}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"$"+t.ToWord(t.computeBranch(n+2,i[1])))},n.prototype.execute=function(n){var i=n.addrPop();n.checkFlag(Constants.ProcessorStatus.NegativeFlagSet)||(n.rPC=t.computeBranch(n.rPC,i))},n}(),n.BranchPlusRelative=w,i.push(w),b=function(){function n(){this.opName="BVC",this.sizeBytes=2,this.addressingMode=t.ModeRelative,this.opCode=80}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"$"+t.ToWord(t.computeBranch(n+2,i[1])))},n.prototype.execute=function(n){var i=n.addrPop();n.checkFlag(Constants.ProcessorStatus.OverflowFlagSet)||(n.rPC=t.computeBranch(n.rPC,i))},n}(),n.BranchOverflowClearRelative=b,i.push(b),k=function(){function n(){this.opName="BVS",this.sizeBytes=2,this.addressingMode=t.ModeRelative,this.opCode=112}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"$"+t.ToWord(t.computeBranch(n+2,i[1])))},n.prototype.execute=function(n){var i=n.addrPop();n.checkFlag(Constants.ProcessorStatus.OverflowFlagSet)&&(n.rPC=t.computeBranch(n.rPC,i))},n}(),n.BranchOverflowSetRelative=k,i.push(k),d=function(){function n(){this.opName="BCC",this.sizeBytes=2,this.addressingMode=t.ModeRelative,this.opCode=144}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"$"+t.ToWord(t.computeBranch(n+2,i[1])))},n.prototype.execute=function(n){var i=n.addrPop();n.checkFlag(Constants.ProcessorStatus.CarryFlagSet)||(n.rPC=t.computeBranch(n.rPC,i))},n}(),n.BranchCarryClearRelative=d,i.push(d),g=function(){function n(){this.opName="BCS",this.sizeBytes=2,this.addressingMode=t.ModeRelative,this.opCode=176}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"$"+t.ToWord(t.computeBranch(n+2,i[1])))},n.prototype.execute=function(n){var i=n.addrPop();n.checkFlag(Constants.ProcessorStatus.CarryFlagSet)&&(n.rPC=t.computeBranch(n.rPC,i))},n}(),n.BranchCarrySetRelative=g,i.push(g),nt=function(){function n(){this.opName="CLD",this.sizeBytes=1,this.addressingMode=t.ModeSingle,this.opCode=216}return n.prototype.decompile=function(n){return t.ToDecompiledLine(t.ToWord(n),this.opName,"")},n.prototype.execute=function(n){n.setFlag(Constants.ProcessorStatus.DecimalFlagSet,!1)},n}(),n.ClearDecimalSingle=nt,i.push(nt),tt=function(){function n(){this.opName="CMP",this.sizeBytes=2,this.addressingMode=t.ModeImmediate,this.opCode=201}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"#$"+t.ToByte(i[1]))},n.prototype.execute=function(n){n.compareWithFlags(n.rA,n.addrPop())},n}(),n.CompareAccumulatorImmediate=tt,i.push(tt),it=function(){function n(){this.opName="CPX",this.sizeBytes=2,this.addressingMode=t.ModeImmediate,this.opCode=224}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"#$"+t.ToByte(i[1]))},n.prototype.execute=function(n){n.compareWithFlags(n.rX,n.addrPop())},n}(),n.CompareXImmediate=it,i.push(it),rt=function(){function n(){this.opName="CPY",this.sizeBytes=2,this.addressingMode=t.ModeImmediate,this.opCode=192}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"#$"+t.ToByte(i[1]))},n.prototype.execute=function(n){n.compareWithFlags(n.rY,n.addrPop())},n}(),n.CompareYImmediate=rt,i.push(rt),ut=function(){function n(){this.opName="DEX",this.sizeBytes=1,this.addressingMode=t.ModeSingle,this.opCode=202}return n.prototype.decompile=function(n){return t.ToDecompiledLine(t.ToWord(n),this.opName,"")},n.prototype.execute=function(n){n.rX-=1,n.rX<0&&(n.rX=Constants.Memory.ByteMask),n.setFlags(n.rX)},n}(),n.DecXSingle=ut,i.push(ut),ft=function(){function n(){this.opName="DEY",this.sizeBytes=1,this.addressingMode=t.ModeSingle,this.opCode=136}return n.prototype.decompile=function(n){return t.ToDecompiledLine(t.ToWord(n),this.opName,"")},n.prototype.execute=function(n){n.rY-=1,n.rY<0&&(n.rY=Constants.Memory.ByteMask),n.setFlags(n.rY)},n}(),n.DecYSingle=ft,i.push(ft),et=function(){function n(){this.opName="EOR",this.sizeBytes=2,this.addressingMode=t.ModeIndexedIndirectX,this.opCode=65}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"($"+t.ToByte(i[1])+", X)")},n.prototype.execute=function(n){n.rA^=n.peek(n.addrIndexedIndirectX()),n.setFlags(n.rA)},n}(),n.ExclusiveOrIndirectX=et,i.push(et),ot=function(){function n(n){this.opName="???",this.sizeBytes=1,this.addressingMode=t.ModeSingle,this.opCode=n&Constants.Memory.ByteMask}return n.prototype.decompile=function(n){return t.ToDecompiledLine(t.ToWord(n),this.opName,"")},n.prototype.execute=function(n){var t=n.rPC-1,i=n.peek(t);throw"Invalid op code 0x"+i.toString(16).toUpperCase()+" encountered at $"+t.toString(16).toUpperCase();},n}(),n.InvalidOp=ot,st=function(){function n(){this.opName="INC",this.sizeBytes=3,this.addressingMode=t.ModeAbsolute,this.opCode=238}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"$"+t.ToWord(i[1]+(i[2]<<Constants.Memory.BitsInByte)))},n.prototype.execute=function(n){var i=n.addrPopWord(),t=n.peek(i);t=t+1&Constants.Memory.ByteMask,n.poke(i,t),n.setFlags(t)},n}(),n.IncAbsolute=st,i.push(st),ht=function(){function n(){this.opName="INC",this.sizeBytes=3,this.addressingMode=t.ModeAbsoluteX,this.opCode=254}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"$"+t.ToWord(i[1]+(i[2]<<Constants.Memory.BitsInByte))+", X")},n.prototype.execute=function(n){var i=n.addrAbsoluteX(),t=n.peek(i);t=t+1&Constants.Memory.ByteMask,n.poke(i,t),n.setFlags(t)},n}(),n.IncAbsoluteX=ht,i.push(ht),ct=function(){function n(){this.opName="INX",this.sizeBytes=1,this.addressingMode=t.ModeSingle,this.opCode=232}return n.prototype.decompile=function(n){return t.ToDecompiledLine(t.ToWord(n),this.opName,"")},n.prototype.execute=function(n){n.rX=n.rX+1&Constants.Memory.ByteMask,n.setFlags(n.rX)},n}(),n.IncXSingle=ct,i.push(ct),lt=function(){function n(){this.opName="INY",this.sizeBytes=1,this.addressingMode=t.ModeSingle,this.opCode=200}return n.prototype.decompile=function(n){return t.ToDecompiledLine(t.ToWord(n),this.opName,"")},n.prototype.execute=function(n){n.rY=n.rY+1&Constants.Memory.ByteMask,n.setFlags(n.rY)},n}(),n.IncYSingle=lt,i.push(lt),at=function(){function n(){this.opName="INC",this.sizeBytes=2,this.addressingMode=t.ModeZeroPage,this.opCode=230}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"$"+t.ToByte(i[1]))},n.prototype.execute=function(n){var i=n.addrPop(),t=n.peek(i);t=t+1&Constants.Memory.ByteMask,n.poke(i,t),n.setFlags(t)},n}(),n.IncZeroPage=at,i.push(at),vt=function(){function n(){this.opName="INX",this.sizeBytes=1,this.addressingMode=t.ModeSingle,this.opCode=232}return n.prototype.decompile=function(n){return t.ToDecompiledLine(t.ToWord(n),this.opName,"")},n.prototype.execute=function(n){n.rX=n.rX+1&Constants.Memory.ByteMask,n.setFlags(n.rX)},n}(),n.IncrementX=vt,i.push(vt),yt=function(){function n(){this.opName="JMP",this.sizeBytes=3,this.addressingMode=t.ModeIndirect,this.opCode=108}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"($"+t.ToWord(i[1]+(i[2]<<Constants.Memory.BitsInByte))+")")},n.prototype.execute=function(n){n.rPC=n.addrIndirect()},n}(),n.JmpIndirect=yt,i.push(yt),pt=function(){function n(){this.opName="JMP",this.sizeBytes=3,this.addressingMode=t.ModeAbsolute,this.opCode=76}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"$"+t.ToWord(i[1]+(i[2]<<Constants.Memory.BitsInByte)))},n.prototype.execute=function(n){var t=n.addrPopWord();n.rPC=t},n}(),n.JmpAbsolute=pt,i.push(pt),wt=function(){function n(){this.opName="JSR",this.sizeBytes=3,this.addressingMode=t.ModeAbsolute,this.opCode=32}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"$"+t.ToWord(i[1]+(i[2]<<Constants.Memory.BitsInByte)))},n.prototype.execute=function(n){var t=n.addrPopWord();n.stackPush(n.rPC-1>>Constants.Memory.BitsInByte&Constants.Memory.ByteMask),n.stackPush(n.rPC-1&Constants.Memory.ByteMask),n.rPC=t},n}(),n.JmpSubroutineAbsolute=wt,i.push(wt),bt=function(){function n(){this.opName="LDA",this.sizeBytes=2,this.addressingMode=t.ModeImmediate,this.opCode=169}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"#$"+t.ToByte(i[1]))},n.prototype.execute=function(n){n.rA=n.addrPop(),n.setFlags(n.rA)},n}(),n.LoadAccumulatorImmediate=bt,i.push(bt),kt=function(){function n(){this.opName="LDA",this.sizeBytes=3,this.addressingMode=t.ModeAbsolute,this.opCode=173}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"$"+t.ToWord(i[1]+(i[2]<<Constants.Memory.BitsInByte)))},n.prototype.execute=function(n){var t=n.addrPopWord();n.rA=n.peek(t),n.setFlags(n.rA)},n}(),n.LoadAccumulatorAbsolute=kt,i.push(kt),dt=function(){function n(){this.opName="LDA",this.sizeBytes=3,this.addressingMode=t.ModeAbsoluteX,this.opCode=189}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"$"+t.ToWord(i[1]+(i[2]<<Constants.Memory.BitsInByte))+", X")},n.prototype.execute=function(n){n.rA=n.peek(n.addrAbsoluteX()),n.setFlags(n.rA)},n}(),n.LoadAccumulatorAbsoluteX=dt,i.push(dt),gt=function(){function n(){this.opName="LDA",this.sizeBytes=2,this.addressingMode=t.ModeZeroPage,this.opCode=165}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"$"+t.ToByte(i[1]))},n.prototype.execute=function(n){n.rA=n.peek(n.addrPop()),n.setFlags(n.rA)},n}(),n.LoadAccumulatorZeroPage=gt,i.push(gt),ni=function(){function n(){this.opName="LDY",this.sizeBytes=3,this.addressingMode=t.ModeAbsolute,this.opCode=172}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"$"+t.ToWord(i[1]+(i[2]<<Constants.Memory.BitsInByte)))},n.prototype.execute=function(n){var t=n.addrPopWord();n.rY=n.peek(t),n.setFlags(n.rY)},n}(),n.LoadYRegisterAbsolute=ni,i.push(ni),ti=function(){function n(){this.opName="LDY",this.sizeBytes=2,this.addressingMode=t.ModeImmediate,this.opCode=160}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"#$"+t.ToByte(i[1]))},n.prototype.execute=function(n){n.rY=n.addrPop(),n.setFlags(n.rY)},n}(),n.LoadYRegisterImmediate=ti,i.push(ti),ii=function(){function n(){this.opName="LDX",this.sizeBytes=2,this.addressingMode=t.ModeImmediate,this.opCode=162}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"#$"+t.ToByte(i[1]))},n.prototype.execute=function(n){n.rX=n.addrPop(),n.setFlags(n.rX)},n}(),n.LoadXRegisterImmediate=ii,i.push(ii),ri=function(){function n(){this.opName="LDX",this.sizeBytes=2,this.addressingMode=t.ModeZeroPage,this.opCode=166}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"$"+t.ToByte(i[1]))},n.prototype.execute=function(n){var t=n.addrPop();n.rX=n.peek(t),n.setFlags(n.rX)},n}(),n.LoadXRegisterZeroPage=ri,i.push(ri),ui=function(){function n(){this.opName="PLA",this.sizeBytes=1,this.addressingMode=t.ModeSingle,this.opCode=104}return n.prototype.decompile=function(n){return t.ToDecompiledLine(t.ToWord(n),this.opName,"")},n.prototype.execute=function(n){n.rA=n.stackPop(),n.setFlags(n.rA)},n}(),n.PullAccumulatorSingle=ui,i.push(ui),fi=function(){function n(){this.opName="PHA",this.sizeBytes=1,this.addressingMode=t.ModeSingle,this.opCode=72}return n.prototype.decompile=function(n){return t.ToDecompiledLine(t.ToWord(n),this.opName,"")},n.prototype.execute=function(n){n.stackPush(n.rA)},n}(),n.PushAccumulatorSingle=fi,i.push(fi),ei=function(){function n(){this.opName="RTS",this.sizeBytes=1,this.addressingMode=t.ModeSingle,this.opCode=96}return n.prototype.decompile=function(n){return t.ToDecompiledLine(t.ToWord(n),this.opName,"")},n.prototype.execute=function(n){n.stackRts()},n}(),n.RtsSingle=ei,i.push(ei),oi=function(){function n(){this.opName="STA",this.sizeBytes=3,this.addressingMode=t.ModeAbsolute,this.opCode=141}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"$"+t.ToWord(i[1]+(i[2]<<Constants.Memory.BitsInByte)))},n.prototype.execute=function(n){var t=n.addrPopWord();n.poke(t,n.rA)},n}(),n.StoreAccumulatorAbsolute=oi,i.push(oi),si=function(){function n(){this.opName="STA",this.sizeBytes=3,this.addressingMode=t.ModeAbsoluteX,this.opCode=157}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"$"+t.ToWord(i[1]+(i[2]<<Constants.Memory.BitsInByte))+", X")},n.prototype.execute=function(n){n.poke(n.addrAbsoluteX(),n.rA)},n}(),n.StoreAccumulatorAbsoluteX=si,i.push(si),hi=function(){function n(){this.opName="STA",this.sizeBytes=3,this.addressingMode=t.ModeAbsoluteY,this.opCode=153}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"$"+t.ToWord(i[1]+(i[2]<<Constants.Memory.BitsInByte))+", Y")},n.prototype.execute=function(n){n.poke(n.addrAbsoluteY(),n.rA)},n}(),n.StoreAccumulatorAbsoluteY=hi,i.push(hi),ci=function(){function n(){this.opName="STA",this.sizeBytes=2,this.addressingMode=t.ModeIndexedIndirectY,this.opCode=145}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"($"+t.ToByte(i[1])+"), Y")},n.prototype.execute=function(n){n.poke(n.addrIndirectIndexedY(),n.rA)},n}(),n.StoreAccumulatorIndirectY=ci,i.push(ci),li=function(){function n(){this.opName="STA",this.sizeBytes=2,this.addressingMode=t.ModeZeroPage,this.opCode=133}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"$"+t.ToByte(i[1]))},n.prototype.execute=function(n){var t=n.addrPop();n.poke(t,n.rA)},n}(),n.StoreAccumulatorZeroPage=li,i.push(li),ai=function(){function n(){this.opName="STY",this.sizeBytes=3,this.addressingMode=t.ModeAbsolute,this.opCode=140}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"$"+t.ToWord(i[1]+(i[2]<<Constants.Memory.BitsInByte)))},n.prototype.execute=function(n){var t=n.addrPopWord();n.poke(t,n.rY)},n}(),n.StoreYRegisterAbsolute=ai,i.push(ai),vi=function(){function n(){this.opName="SBC",this.sizeBytes=2,this.addressingMode=t.ModeImmediate,this.opCode=233}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"#$"+t.ToByte(i[1]))},n.prototype.execute=function(n){t.SubtractWithCarry(n,n.addrPop())},n}(),n.SubtractWithCarryImmediate=vi,i.push(vi),yi=function(){function n(){this.opName="SBC",this.sizeBytes=3,this.addressingMode=t.ModeAbsolute,this.opCode=237}return n.prototype.decompile=function(n,i){return t.ToDecompiledLine(t.ToWord(n),this.opName,"$"+t.ToWord(i[1]+(i[2]<<Constants.Memory.BitsInByte)))},n.prototype.execute=function(n){var i=n.peek(n.addrPopWord());t.SubtractWithCarry(n,i)},n}(),n.SubtractWithCarryAbsolute=yi,i.push(yi),pi=function(){function n(){this.opName="TAX",this.sizeBytes=1,this.addressingMode=t.ModeSingle,this.opCode=170}return n.prototype.decompile=function(n){return t.ToDecompiledLine(t.ToWord(n),this.opName,"")},n.prototype.execute=function(n){n.rX=n.rA,n.setFlags(n.rX)},n}(),n.TransferAccumulatorToXSingle=pi,i.push(pi),wi=function(){function n(){this.opName="TAY",this.sizeBytes=1,this.addressingMode=t.ModeSingle,this.opCode=168}return n.prototype.decompile=function(n){return t.ToDecompiledLine(t.ToWord(n),this.opName,"")},n.prototype.execute=function(n){n.rY=n.rA,n.setFlags(n.rY)},n}(),n.TransferAccumulatorToYSingle=wi,i.push(wi),bi=function(){function n(){this.opName="TXA",this.sizeBytes=1,this.addressingMode=t.ModeSingle,this.opCode=138}return n.prototype.decompile=function(n){return t.ToDecompiledLine(t.ToWord(n),this.opName,"")},n.prototype.execute=function(n){n.rA=n.rX,n.setFlags(n.rA)},n}(),n.TransferXToAccumulatorSingle=bi,i.push(bi),ki=function(){function n(){this.opName="TYA",this.sizeBytes=1,this.addressingMode=t.ModeSingle,this.opCode=152}return n.prototype.decompile=function(n){return t.ToDecompiledLine(t.ToWord(n),this.opName,"")},n.prototype.execute=function(n){n.rA=n.rY,n.setFlags(n.rA)},n}(),n.TransferYToAccumulatorSingle=ki,i.push(ki)})(Emulator||(Emulator={}))